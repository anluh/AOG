/// in $break-points map you have to define media queries for each viewport you need
///	@example
///   @include respond-to(phones);
///   @include respond-to(phones-portrait tablets);
///   @include respond-to(tablets desktop);
///   @include respond-to(phones tablets);

@mixin respond-to($media, $operator: or) {
    $__query: null;

    @each $type in $media {
        @if map-has-key($break-points, $type) {
            @if ($operator == or) {
                $__query: append($__query, unquote(map-get($break-points, $type)), comma);
            } @else if ($operator == and) {
                @if ($_query == null) {
                    $__query: ' ';
                } @else {
                    $__query: str-insert($__query, ' and', str-length($__query) +1);
                }

                $__query: str-insert($__query, unquote(map-get($break-points, $type)), str-length($__query) +1);
            }
        } @else {
            @warn $type;
        }
    }

    @debug $__query;

    @media #{$__query} {
        @content;
    }
}